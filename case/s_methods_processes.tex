
 \section{Quality in the project}

Quality assurance in the Päikky project was not formally specified or planned beforehand. Methods and processes were selected primarily by individual developers and talked through with the whole team. Methods and tools were taken to use when necessary.

\subsection{Quality Methods and Processes}

\textbf{Agile development.} The project was executed using agile development. The development was done in a week long sprints, which included a weekly review and planning session. The customer representatives were present in the weekly meetings. This enabled that the implementation of the features in the finished sprint could be assessed against the understanding of the customer. 

\textbf{Static analysis.} The development of the application was mostly done by using some integrated development environment (IDE), although some of the developers involved in the development used only a source code editor without any intelligent features. These modern IDEs provide automatic tools for running continuous static analysis of source code. Using this kind of static analysis tool can prevent some defects from getting into the application. 

\textbf{Peer reviews.} With some parts of the application, ad hoc informal peer review sessions were used. These reviews were done in situations where the developer responsible for the implementation of a component had questions about the implementation details. In these brief discussions, parts of the code and thoughts about the implementation were reviewed by another developer. The end result of these session would usually be either an actual decision about the implementation or a joint decision that these details must be discussed with the whole development team or with the customer.

\textbf{Testing.} During the project, testing was one of the most problematic forms of quality assurance. In the beginning of the project, all the testing was done manually by using the system via the user interface. The effort for implementing the automatic tests were postponed in favor of the development of new features. Some critical features in the backend were tested with integration tests and a set of user interface tests were implemented during the first two phases of the project. However, in later phases the user interface tests were disabled because of the problems with the test runner. Alternative options for test runner were investigated, but no good enough solution was found with the effort put into the studies. Also the amount of integration tests did not increase at the same pace as the number of critical features. The attitude towards testing was not neglecting, but the amount of new features to implement did depress the allocation of effort on the testing.

% Preventing
%	agile, embedded users, static analysis
% pretest
%	peer reviews, scrum sessions, client reviews?
% testing
%	unit testing, system testing, 
% post-release
%	latent defects

% -Käytetyt QA-metodit
% -Static code analysis (IDEn vakiot)
% -Communication ("embedded users")
% -Testing(frontend, backend unit testing and integration tests)
% -Occasional reviews (rarely)
% -Continuous Integration


% Alkuun testattiin pelkästään UI:n kautta
% Testaus hiipui projektin myötä -> ei “riittävää” testausta
% Bäkkärin integraatiotestit -> testattiin kriittisimpiä osia, muttei kaikkia
% Satunnaisia testejä
% Automaattiset testit jumiin CI:ssä -> aikaa käytettiin korjaukseen, mutta ei onnistunut -> Testit % pois käytöstä
% Testit koetaan tärkeiksi
% laajuus kasvaa, joten ei tiedä miten asiat toimii 
% regressio uusien featureiden kanssa
% turvaverkko
% tekijät vaihtuu
% testit valmiita esimerkkejä oikeasta käytöstä/toiminnasta
% testien dokumentointi, ei tiedetty mitä testit testaa -> väärä luottamus
% TDD käytetty satunnaisesti bugien korjauksissa

 


 \section{Achieved Quality in The Project}

 The quality achieved in the project was evaluated by interpreting the views and opinions of the product stakeholders. A separate informal interview sessions were arranged with the development team, project manager and the customer representatives. In addition, notes from a retrospective session after the fifth phase were considered.

\subsection{Development Team}

The overall feeling of the development team was that there should have been more effort put into the quality assurance during the project. The actual development suffered from the lack of effort put into the quality aspects. The shortage of testing and other methods of quality assurance seemed to affect negatively more and more as the project advanced. 

\textbf{Testing.} Testing was one of the most important themes brought up in the interviews with the development team. In the beginning of the project, testing was taken into consideration and some effort was put into bringing testing tools in use. Testing tools for testing both the backend and frontend were studied and selected. Some tests for testing the most critical features in the backend were written through the whole project. For the frontend, only a few tests were written and the execution of those tests were unstable from the day one. The final setback for the frontend tests was got when the chosen test runner began to freeze during the execution of the tests.

Biggest problems with testing was that there were no common practices or clear allocation of effort to the writing of the test cases. According to the understanding of the development team, there were defects present that could have been prevented with proper tests. The general feeling was that putting more effort to testing would have helped save time and money.

Proposals for improving testing suggest that in the first place, the infrastructure for the testing should be repaired. The test runners should execute the tests reliably and the tests should be run in the CI environment. In addition to fixing the tools, the team and the customer should agree on a common practice for systematically testing both frontend and the backend of the system.

% bugeja huomattiin, jotka olisi löytynyt testeillä
% Tiimin mielestä testien kirjoituksella olisi säästänyt aikaa/rahaa
% Mitä erilailla - Testit toimimaan
% Mitä erilailla - UI
% Mitä erilailla - Järjestelmällisemmät testit


\textbf{Effort distribution.} Another wider issue mentioned by the development team was the distribution of effort between the quality assurance, bug fixes and new feature development. From the developers point of view, new features were prioritized too high and the velocity was kept too fast. In this constant hurry, some of the implementation details had to include shortcuts. These shortcuts led easily to taking technical debt and even to defects.

Another problematic topic with effort distribution was the lack of separation between further development of features and the maintenance of the system in production. Most of the time, at least in later phases, the discovery of a defect could lead to an interruption for one or more of the developers. This affected the performance of the developers, because the simultaneous work on the new features and the running system meant that the developers faced multiple context switches during the ordinary work.

Opinions for improving the situation included using more effort to quality related activities, including planning, documenting, implementing and testing the features. Allocating more effort to these topics would have first led into a slower pace of delivery with new features. In the long run though, it could have helped keep up the average delivery times of new features. Moreover, with this approach the structural quality could have been better. With better structural quality, the amount of defects and the work required to repair defects could have been lower.

The maintenance of the running system could have also been done better. Using dedicated personnel for the defect repairs would have disengaged the developers implementing the new features, so the focus could have been kept in the implementation. Also a more flexible prioritization of the defect repairs may have had allowed more efficiency in working while still keeping the defect repair schedules sufficient.

% Featuree featuren perään, asiakkaan puolelta
% weppijutuissa nopeasti näkyvää asiaa “huonosti”
% Tahti liian kova

% Mitä erilailla - Rakenteellinen laatu kuntoon
% Mitä erilailla - Aikavyöhykeasiat kerralla kuntoon / päätös tehdä ilman monimutkaisuutta


% Mitä erilailla - Dokumentointi kuntoon

% Mitä erilailla - Samaan aikaan samalla tiimillä nykyisen järjestelmän ylläpitoa ja uudet featuret
% Mitä erilailla - Uudet featuret “suoraan” nykyiseen järjestelmään


% TODO: tämä mukaan???????????????????
% \textbf{CI environment.} 
% Testiympäristö ei ollut vastaava tuotannon kanssa, muistinvarainen vs HDD, Eri tietokanta
% Bugeja tietokannan käsittelyssä, jotka ilmaantuivat vain tietyssä kannassa

% Skaalaus
% Päiväkotien määrän kasvaessa suorituskyky laski eksponentiaalsesti
% Aiemmin ei tunnettu tarvetta optimoinnille
% indeksi
% tiedonhaku yms.
% Ei mikään varsinainen ongelma, mutta yllätti


\textbf{Shortcuts.} Taking shortcuts and making compromises in planning and implementing the features was seen somewhat necessary in this kind of project. There was a constant uncertainty of the requirements and expectations of the end users, which caused a need for experimenting with the features.

A problem with these shortcuts was that the causes and existence of these were easily forgotten. As a consequence, the estimates of the tasks were easily skewed and the expectations from the features often lacked the facts caused from these compromises. In most cases there would have been a clear demand on refactoring the implementation, but frequently the refactoring was forgotten or left out because of the need for quick delivery of new features.

There were no clear opinions on how to improve this, but there seemed to be a shared concern on the lack of refactoring the structure. The general feeling was that using more time on planning and implementing the features would have prevented many problems from occurring. Also the pace of implementing the features seemed to slow down in time, which was seen as an outcome of the poor structure. Proper restructuring could have solved this slowdown.

% Technical debt and shortcutting the features
% tekninen velka -> realisoituu myöhemmin
% Refaktoroinneille ei aikaa
% Kunnon tekeminen vaatii aikaa, ei ratkea “rahalla”
% Featureiden toteutus hidastuu eksponentiaalisesti kun tehdään pitkään nopeasti (ja huonosti)
% Asiakas ei ymmärrä mitä aiemmat “oikopolut” tarkoitta
% Asiakas ei muista teknistä velkaa


\textbf{Common practices.} There were virtually no forced processes in the development used. The development team found that this partially led to careless behavior in the project. In particular, mutually agreed ground rules about coding practices were wanted. Ideally these rules would act as guidelines for the development and not as a bureaucratic burden.

These practices could include things like a proper definition of done, guidelines for code style and other practices now having differentiated styles among the developers. In addition to helping keep the code uniform, these guidelines would help new and inexperienced developers to become familiar of the practices used by others.

Also one practice in particular was mentioned several times: informal reviews or inspections of each others code. There was some concern about giving negative feedback to other developers. As an improvement to this, there was a suggestion that a mutual agreement would be required that every member of the team would agree to receive both positive and negative feedback, without finding it offensive. Reviews could be done with pull requests or other lightweight tool for automatic reviews.

% Mitä erilailla - Definition of Done selkeämmäksi: testit kuuluu taskiin
% Mitä erilailla - Rajapinnasta tarkempi määrittely
% Mitä erilailla - “REST”, mutta muita tapoja seassa
% Mitä erilailla - Mietitty puhdas REST vs clientille tehty API
% Mitä erilailla - Clientin helppo noutaa datoja
% Mitä erilailla - Requestien määrän minimointi

% Tulevaisuudessa paremmin - järjestelmällisyys
% Tulevaisuudessa paremmin - yhdessä sovitut prosessit
% Tulevaisuudessa paremmin - Pelisäännöt, ei byrokratiaa
% Tulevaisuudessa paremmin - Auttaisi jos ja kun porukka vaihtuu
% Tulevaisuudessa paremmin - kaikki koodarit samojen käytäntöjen alle, myös koodaavat asiakkaat

% Tulevaisuudessa paremmin - laatuasioista “valittaminen” ei henkilökohtaista
% Tulevaisuudessa paremmin - pitäisi sopia etukäteen, että saa sanoa mistä vaan asiasta loukkaantumatta
% Tulevaisuudessa paremmin - review, pullrequestit
% Tulevaisuudessa paremmin - todettu hyviksi nyt kun käytössä (Mainitaan muualla)


\textbf{Communication.} In the beginning of the project, good communication helped to achieve good quality of the specifications and delivered features. As the project progressed, communication between the development team and customer was gradually degraded. Later on, communication inside the team was also weakened because a few of the developers were part-time employees with separate working days.

There were no actual proposals for improving the communication between the team and customer. Also no solutions were presented for solving the communicational challenges when working with part-time employees.



% Kommunikaatio aluksi tae hyvälle laadulle
% Aluksi ongelmallisin kommunikaatio asiakkaan kanssa
% Myöhemmin kommunikaatio failannut tiimin sisälläkin, koska osa-aikaisia samassa projektissa

% Tulevaisuudessa paremmin - pitäisi osata sanoa koodaavalle asiakkaalle, että osa siitä aiheuttaa lisätyötä tiimille
% Tulevaisuudessa paremmin - Kommunikaatioo paremmaksi













% -Kartoitetaan bugit (Mailit, Pivotal, Repo)  
% -Asiakkaan ja loppukäyttäjien tyytyväisyys
% 
% Miken lista hyvästä laadusta:
% -I Know It When I See It -> Validoinnit
% -Lyhyet sprintit
% -Tasainen vastuunjako
% -Kommunikointi
% -Refaktoroinnit
% -MVP





% Juttelut
% 
% -Isot teemat:
% -testaus
% -kiire/featurekeskeisyys
% -MVP -> tuotteeksi ilman tuotteistusta
% -Rakenne, API




\subsection{Customer and End Users}


\subsection{Discussion}